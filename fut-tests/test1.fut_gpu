Up to date
types {
  
}



entry("main",
      {a: [][]i32},
      {*[]i32})
  entry_main (n_5367 : i64,
              m_5368 : i64,
              a_5369 : [n_5367][m_5368]i32)
  : {*[n_5367]i32} = {
  let {defunc_0_map_res_5694 : [n_5367]i32} =
    #[incremental_flattening(only_intra)]
    segmap(group; ; groups=n_5367; groupsize=m_5368)
    (gtid_5695 < n_5367) (~phys_group_id_5696) : {i32} {
      let {scan_5703 : [m_5368]i32} =
        segscan(thread; ; )
        (gtid_5704 < m_5368) (~phys_tid_5705)
        ({0i32},
        ,
        \ {eta_p_5706 : i32,
           eta_p_5707 : i32}
          : {i32} ->
          let {defunc_0_op_res_5708 : i32} =
            add32(eta_p_5706, eta_p_5707)
          in {defunc_0_op_res_5708})
        : {i32} {
          let {eta_p_5709 : i32} =
            a_5369[gtid_5695, gtid_5704]
          let {lifted_lambda_res_5710 : i32} =
            add32(1i32, eta_p_5709)
          let {lifted_lambda_res_5711 : i32} =
            mul32(2i32, lifted_lambda_res_5710)
          return {returns lifted_lambda_res_5711}
        }
      let {acc0_5716 : i32} =
        segred(thread; ; )
        (gtid_5717 < m_5368) (~phys_tid_5718)
        ({0i32},
        ,
        \ {eta_p_5719 : i32,
           eta_p_5720 : i32}
          : {i32} ->
          let {defunc_0_op_res_5721 : i32} =
            add32(eta_p_5719, eta_p_5720)
          in {defunc_0_op_res_5721})
        : {i32} {
          let {eta_p_5722 : i32} =
            scan_5703[gtid_5717]
          return {returns eta_p_5722}
        }
      return {returns acc0_5716}
    }
  in {defunc_0_map_res_5694}
}
